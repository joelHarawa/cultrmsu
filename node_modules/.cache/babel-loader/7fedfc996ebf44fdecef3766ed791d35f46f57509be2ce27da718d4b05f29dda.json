{"ast":null,"code":"import axios from\"axios\";import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import{formatTime}from\"../components/BlogPost\";import{useNavigate}from\"react-router-dom\";import Loading from\"./Loading\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BlogPosts=()=>{const apiUrl='https://api.cultrmagazine.com';const[posts,setPosts]=useState([]);const navigate=useNavigate();useEffect(()=>{const getPosts=async()=>{try{const response=await axios.get(`${apiUrl}/api/get/getPost`);console.log(response);setPosts(response.data);}catch(error){console.error(error);}};getPosts();},[]);const handlePostClick=index=>{navigate(`/blog/${index}`);};return/*#__PURE__*/_jsx(_Fragment,{children:posts.length>0?/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(Title,{children:\"All Blog Posts\"})}),/*#__PURE__*/_jsx(Posts,{children:posts.slice().reverse().map((post,reversedIndex)=>{// Find the original index by subtracting the reversed index from the length of the posts array minus 1\nconst originalIndex=posts.length-1-reversedIndex;return/*#__PURE__*/_jsxs(Post,{onClick:()=>handlePostClick(originalIndex),children:[/*#__PURE__*/_jsx(PostImageContainer,{children:/*#__PURE__*/_jsx(PostImage,{src:post.photoUrl})}),/*#__PURE__*/_jsxs(PostData,{children:[/*#__PURE__*/_jsx(PostTitle,{children:post.title}),/*#__PURE__*/_jsxs(PostAuthor,{children:[post.firstName,\" \",post.lastName]}),/*#__PURE__*/_jsx(PostDate,{children:formatTime(post.createdAt)})]})]},post._id);})})]}):/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Loading,{})})});};const Container=styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%\n    height: 100%;\n`;const Header=styled.div`\n    display: flex;\n    align-items: center;\n`;const Title=styled.h1`\n    font-family: \"Poppins\", sans-serif;\n`;const Posts=styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 80%;\n`;const PostImageContainer=styled.div`\n    height: 100%;\n    width: 15%; \n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;const PostImage=styled.img`\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n`;const PostTitle=styled.span`\n    font-family: \"Poppins\", sans-serif;\n    font-size: 28px;\n    padding-top: 8px;\n`;const PostAuthor=styled.span`\n    font-family: \"Poppins\", sans-serif;\n    font-size: 22px;\n    padding-top: 8px;\n`;const PostDate=styled.span`\n    font-family: \"Poppins\", sans-serif;\n    font-size: 18px;\n    padding-top: 8px;\n`;const Post=styled.div`\n    display: flex;\n    width: 90%;\n    background-color: #f2f2f2;\n    border-radius: 15px;\n    overflow: hidden;\n    height: 17vh;\n    margin-top: 17px;\n    &:hover{\n        background-color: black;\n        color: white;\n        cursor: pointer;\n    }\n`;const PostData=styled.div`\n    display: flex;\n    flex-direction: column;\n    padding-left: 10px;\n    height: 100%;\n`;export default BlogPosts;","map":{"version":3,"names":["axios","React","useEffect","useState","styled","formatTime","useNavigate","Loading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BlogPosts","apiUrl","posts","setPosts","navigate","getPosts","response","get","console","log","data","error","handlePostClick","index","children","length","Container","Header","Title","Posts","slice","reverse","map","post","reversedIndex","originalIndex","Post","onClick","PostImageContainer","PostImage","src","photoUrl","PostData","PostTitle","title","PostAuthor","firstName","lastName","PostDate","createdAt","_id","div","h1","img","span"],"sources":["C:/Users/Joel/VS Code Projects/Cultr2/src/components/BlogPosts.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { formatTime } from \"../components/BlogPost\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Loading from \"./Loading\";\r\n\r\nconst BlogPosts = () => {\r\n    const apiUrl = 'https://api.cultrmagazine.com';\r\n    const [posts, setPosts] = useState([]);\r\n    const navigate = useNavigate();\r\n    useEffect(()=> {\r\n        const getPosts = async () => {\r\n            try {\r\n            const response = await axios.get(`${apiUrl}/api/get/getPost`);\r\n            console.log(response);\r\n            setPosts(response.data);\r\n            } catch (error) {\r\n                console.error(error);\r\n            } \r\n        }\r\n        getPosts();\r\n    }, [])\r\n\r\n    const handlePostClick = (index) => {\r\n        navigate(`/blog/${index}`);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        { posts.length > 0 ? \r\n        <Container>\r\n                <Header>\r\n                    <Title>All Blog Posts</Title>\r\n                </Header>\r\n                <Posts>\r\n                {posts.slice().reverse().map((post, reversedIndex) => {\r\n                // Find the original index by subtracting the reversed index from the length of the posts array minus 1\r\n                const originalIndex = posts.length - 1 - reversedIndex;\r\n    \r\n                return (\r\n                <Post key={post._id} onClick={() => handlePostClick(originalIndex)}>\r\n                    <PostImageContainer>\r\n                        <PostImage src={post.photoUrl}/>\r\n                    </PostImageContainer>\r\n                    <PostData>\r\n                        <PostTitle>{post.title}</PostTitle>\r\n                        <PostAuthor>{post.firstName} {post.lastName}</PostAuthor>\r\n                        <PostDate>{formatTime(post.createdAt)}</PostDate>\r\n                    </PostData>\r\n                </Post>\r\n                );\r\n                })}\r\n                </Posts>\r\n            </Container>\r\n        :   \r\n            <Container>\r\n                <Loading/>\r\n            </Container>}\r\n        </>\r\n    )\r\n}\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%\r\n    height: 100%;\r\n`;\r\n\r\nconst Header = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    font-family: \"Poppins\", sans-serif;\r\n`;\r\n\r\n\r\nconst Posts = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 80%;\r\n`;\r\n\r\nconst PostImageContainer = styled.div`\r\n    height: 100%;\r\n    width: 15%; \r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst PostImage = styled.img`\r\n    object-fit: cover;\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nconst PostTitle = styled.span`\r\n    font-family: \"Poppins\", sans-serif;\r\n    font-size: 28px;\r\n    padding-top: 8px;\r\n`;\r\n\r\nconst PostAuthor = styled.span`\r\n    font-family: \"Poppins\", sans-serif;\r\n    font-size: 22px;\r\n    padding-top: 8px;\r\n`;\r\n\r\nconst PostDate = styled.span`\r\n    font-family: \"Poppins\", sans-serif;\r\n    font-size: 18px;\r\n    padding-top: 8px;\r\n`;\r\n\r\nconst Post = styled.div`\r\n    display: flex;\r\n    width: 90%;\r\n    background-color: #f2f2f2;\r\n    border-radius: 15px;\r\n    overflow: hidden;\r\n    height: 17vh;\r\n    margin-top: 17px;\r\n    &:hover{\r\n        background-color: black;\r\n        color: white;\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst PostData = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding-left: 10px;\r\n    height: 100%;\r\n`;\r\n\r\nexport default BlogPosts;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,UAAU,KAAQ,wBAAwB,CACnD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAAC,MAAM,CAAG,+BAA+B,CAC9C,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAe,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9BJ,SAAS,CAAC,IAAK,CACX,KAAM,CAAAiB,QAAQ,CAAG,KAAAA,CAAA,GAAY,CACzB,GAAI,CACJ,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,GAAG,CAAC,GAAGN,MAAM,kBAAkB,CAAC,CAC7DO,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CACrBH,QAAQ,CAACG,QAAQ,CAACI,IAAI,CAAC,CACvB,CAAE,MAAOC,KAAK,CAAE,CACZH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC,CACxB,CACJ,CAAC,CACDN,QAAQ,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,eAAe,CAAIC,KAAK,EAAK,CAC/BT,QAAQ,CAAC,SAASS,KAAK,EAAE,CAAC,CAC9B,CAAC,CAGD,mBACIlB,IAAA,CAAAI,SAAA,EAAAe,QAAA,CACEZ,KAAK,CAACa,MAAM,CAAG,CAAC,cAClBlB,KAAA,CAACmB,SAAS,EAAAF,QAAA,eACFnB,IAAA,CAACsB,MAAM,EAAAH,QAAA,cACHnB,IAAA,CAACuB,KAAK,EAAAJ,QAAA,CAAC,gBAAc,CAAO,CAAC,CACzB,CAAC,cACTnB,IAAA,CAACwB,KAAK,EAAAL,QAAA,CACLZ,KAAK,CAACkB,KAAK,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,IAAI,CAAEC,aAAa,GAAK,CACtD;AACA,KAAM,CAAAC,aAAa,CAAGvB,KAAK,CAACa,MAAM,CAAG,CAAC,CAAGS,aAAa,CAEtD,mBACA3B,KAAA,CAAC6B,IAAI,EAAgBC,OAAO,CAAEA,CAAA,GAAMf,eAAe,CAACa,aAAa,CAAE,CAAAX,QAAA,eAC/DnB,IAAA,CAACiC,kBAAkB,EAAAd,QAAA,cACfnB,IAAA,CAACkC,SAAS,EAACC,GAAG,CAAEP,IAAI,CAACQ,QAAS,CAAC,CAAC,CAChB,CAAC,cACrBlC,KAAA,CAACmC,QAAQ,EAAAlB,QAAA,eACLnB,IAAA,CAACsC,SAAS,EAAAnB,QAAA,CAAES,IAAI,CAACW,KAAK,CAAY,CAAC,cACnCrC,KAAA,CAACsC,UAAU,EAAArB,QAAA,EAAES,IAAI,CAACa,SAAS,CAAC,GAAC,CAACb,IAAI,CAACc,QAAQ,EAAa,CAAC,cACzD1C,IAAA,CAAC2C,QAAQ,EAAAxB,QAAA,CAAEvB,UAAU,CAACgC,IAAI,CAACgB,SAAS,CAAC,CAAW,CAAC,EAC3C,CAAC,GARJhB,IAAI,CAACiB,GASV,CAAC,CAEP,CAAC,CAAC,CACK,CAAC,EACD,CAAC,cAEZ7C,IAAA,CAACqB,SAAS,EAAAF,QAAA,cACNnB,IAAA,CAACF,OAAO,GAAC,CAAC,CACH,CAAC,CACd,CAAC,CAEX,CAAC,CAED,KAAM,CAAAuB,SAAS,CAAG1B,MAAM,CAACmD,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAxB,MAAM,CAAG3B,MAAM,CAACmD,GAAG;AACzB;AACA;AACA,CAAC,CAED,KAAM,CAAAvB,KAAK,CAAG5B,MAAM,CAACoD,EAAE;AACvB;AACA,CAAC,CAGD,KAAM,CAAAvB,KAAK,CAAG7B,MAAM,CAACmD,GAAG;AACxB;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAb,kBAAkB,CAAGtC,MAAM,CAACmD,GAAG;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAZ,SAAS,CAAGvC,MAAM,CAACqD,GAAG;AAC5B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAV,SAAS,CAAG3C,MAAM,CAACsD,IAAI;AAC7B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAT,UAAU,CAAG7C,MAAM,CAACsD,IAAI;AAC9B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAN,QAAQ,CAAGhD,MAAM,CAACsD,IAAI;AAC5B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAlB,IAAI,CAAGpC,MAAM,CAACmD,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAT,QAAQ,CAAG1C,MAAM,CAACmD,GAAG;AAC3B;AACA;AACA;AACA;AACA,CAAC,CAED,cAAe,CAAAzC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}